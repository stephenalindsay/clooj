TODO:

- pending requests
- make sure you don't break existing repl stuff
- error handling would be nice

